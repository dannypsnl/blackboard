```agda
{-# OPTIONS --allow-unsolved-metas #-}
module sp-0002 where

open import MLTT.Spartan hiding (Type)
open import MLTT.List
open import UF.Base
```

é€™æ˜¯è®€ https://arxiv.org/abs/1809.08646 çš„ç­†è¨˜

å¦‚æœæˆ‘å€‘æ‹¿åˆ°ä¸€å€‹é›†åˆ $U$ è¡¨ç¤ºåŸºæœ¬å‹åˆ¥ï¼Œå¯ä»¥å®šç¾© $\widetilde{U}$ è¡¨ç¤ºä¸€çµ„å»¶æ‹“ï¼Œè¦å‰‡æ˜¯

1. å±¬æ–¼ $U$ å°±æ˜¯å±¬æ–¼ $\widetilde{U}$
2. å¦‚æœ $A, B$ éƒ½å±¬æ–¼ $\widetilde{U}$ï¼Œé‚£ $A \times B$ è¡¨ç¤ºç©å‹åˆ¥ä¹Ÿå±¬æ–¼ $\widetilde{U}$
3. å¦‚æœ $A, B$ éƒ½å±¬æ–¼ $\widetilde{U}$ï¼Œé‚£ $A \Rightarrow B$ è¡¨ç¤ºå‡½æ•¸å‹åˆ¥ä¹Ÿå±¬æ–¼ $\widetilde{U}$

```
data Lift (U : ğ“¤ Ì‡ ) : ğ“¤  Ì‡  where
  Î¹ : U â†’ Lift U
  _âŸ¨Ã—âŸ©_ : Lift U â†’ Lift U â†’ Lift U
  _âŸ¨=>âŸ©_  : Lift U â†’ Lift U â†’ Lift U

infixl 40 _âŸ¨Ã—âŸ©_
infixl 20 _âŸ¨=>âŸ©_
```

é›†åˆ $U$ ä¹Ÿæœ‰ç›¸æ‡‰çš„ contextï¼Œè¨˜æˆ $U^*$

```
Context : ğ“¤ Ì‡ â†’ ğ“¤ Ì‡
Context U = List U
```

åŸºç¤å®šç¾©çš„æœ€å¾Œä¸€å€‹æ˜¯ arityï¼Œè¨˜æˆ $U^\dag := U^* \times U$

```
_â€  : ğ“¤ Ì‡ â†’ ğ“¤ Ì‡
U â€  = Context U Ã— U
```

Clones è·Ÿ Substitutions

```
a-clone-is-indexed-in-Î“-Ï„ : (Lift (ğŸ™ {ğ“¤})) â€ 
a-clone-is-indexed-in-Î“-Ï„ = [] , Î¹ â‹†

a-subst-is-indexed-in-Î“-Î” : {U : ğ“¤ Ì‡ } â†’ Context (Lift U) Ã— Context (Lift U)
a-subst-is-indexed-in-Î“-Î” = [] , []
```

signature ç”±

1. ä¸€çµ„åŸºæœ¬å‹åˆ¥ $U$
2. åŠ ä¸Šä¸€çµ„æ“ä½œåˆ°æ“´å……å®‡å®™çš„ family $âˆ‚ : O \to \widetilde{U}^\dag$

çµ„åˆè€Œæˆ

```
data Op : ğ“¤â‚€ Ì‡ where
  var : â„• â†’ Op
  _,,_ : Op â†’ Op â†’ Op
  Ï€1 : Op â†’ Op
  Ï€2 : Op â†’ Op

record Î£â€  {U : ğ“¤ Ì‡ } : ğ“¤  Ì‡ where
  field
    types : U
    âˆ‚ : (Op â†’ Lift U â€ )

variable
  Î£s : Î£â€ 

-- TODO: incomplete
data _âŠ¢_âˆ¶_ {U : ğ“¤ Ì‡ } (Î“ : Context (Lift U)) : Op â†’ Lift U â†’ ğ“¤ Ì‡  where
  -- å¦‚æœå¯ä»¥å¾ signature ä¸­æ‰¾åˆ° operationï¼Œé‚£é€™å±¬æ–¼ CnÎ£(Î“, Ï„)
  op : {Ï‘ : Op}{Ï„ : Lift U} â†’ (Î£â€ .âˆ‚ Î£s) Ï‘ ï¼ (Î“ , Ï„) â†’ Î“ âŠ¢ Ï‘ âˆ¶ Ï„
  -- å»ºç«‹ pair
  pair : {s t : Op}{Ïƒ Ï„ : Lift U} â†’ Î“ âŠ¢ s âˆ¶ Ïƒ â†’ Î“ âŠ¢ t âˆ¶ Ï„ â†’ Î“ âŠ¢ s ,, t âˆ¶ Ïƒ
  -- projections
  proj1 : {s : Op}{Ïƒ Ï„ : Lift U} â†’ Î“ âŠ¢ s âˆ¶ Ïƒ âŸ¨Ã—âŸ© Ï„ â†’ Î“ âŠ¢ Ï€1 s âˆ¶ Ïƒ
  proj2 : {s : Op}{Ïƒ Ï„ : Lift U} â†’ Î“ âŠ¢ s âˆ¶ Ïƒ âŸ¨Ã—âŸ© Ï„ â†’ Î“ âŠ¢ Ï€2 s âˆ¶ Ï„
```
